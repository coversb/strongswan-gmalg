# ipsec.conf - strongSwan IPsec configuration file

# basic configuration

#config setup
	# strictcrlpolicy=yes
	# uniqueids = no

# Add connections here.

# Sample VPN connections

#conn sample-self-signed
#      leftsubnet=10.1.0.0/16
#      leftcert=selfCert.der
#      leftsendcert=never
#      right=192.168.0.2
#      rightsubnet=10.2.0.0/16
#      rightcert=peerCert.der
#      auto=start

#conn sample-with-ca-cert
#      leftsubnet=10.1.0.0/16
#      leftcert=myCert.pem
#      right=192.168.0.2
#      rightsubnet=10.2.0.0/16
#      rightid="C=CH, O=Linux strongSwan CN=peer name"
#      auto=start

conn %default
        ikelifetime=24h
		keylife=60m 
        rekeymargin=8m
        keyingtries=%forever
        keyexchange=ikev1
        authby=secret
        forceencaps=yes
        type=tunnel
        auto=start
        #ike=aes256-sha256-modp2048!
        #esp=aes256-sha256!
        ike=sm4cbc-sm3-modp2048!
        esp=sm4cbc-sm3!
        dpdaction=restart
        dpddelay=15s
        dpdtimeout=30s

conn loopback
        left=0.0.0.0
        leftid=x.x.x.x
        leftsubnet=x.x.x.x/32
        right=x.x.x.x
        rightsubnet=x.x.x.x/25
        rightid=x.x.x.x